### 有限自动机理论-第二章

---

#### 例子语言

一个字母表上的语言就是该字母表的任意字符串的集合。语言中的字符串称为该语言的句子。

语言的定义从两个方面进行：（1）从产生的角度；（2）从接收或者识别的角度

（1）从产生的角度：根据语言中的基本句子和其他句子的形成规则，产生该语言所包含的所有句子。这也就是形式语言所研究的问题。

（2）从接收或者识别的角度：使用自动机模型接收字符串，接收到的所有字符串也形成了一个语言。这个是自动机所研究的问题。

形式语言和自动机理论之间的统一性，等价性理论。

**示例：**小括号匹配串的语言

这里的字母表可以认为是左右括号的集合，语言可以认为是所有的左括号和右括号相匹配得到的串的集合，而句子可以是任意的一个前面的集合中的元素，比如说$(),(()),()()$等等都是一个句子。但同时我们注意$)(,())$等等不是该语言的句子。（注意这里要求左右匹配的问题）

如何产生这个语言，也就是如何产生该语言的所有句子？——递归提供了语言的良好定义。

除了基本句子外其他句子按照相同的方法产生（给出生成规则）

上面的例子可以这样定义：

(1) $()$是该语言最基本的句子；

(2) 如果$S$是句子，那么$(S)$是句子；

(3) 如果$S$是句子，那么$SS$是句子；

根据形成规则可以产生该语言的任意句子同时可以判断某个串是否是该语言的句子（语法分析）。

**巴科斯-诺尔范式（BNF-Backus-Naur Form）描述规则：**

1. **<括号匹配项> ::= ()**
2. **<括号匹配项> ::= (<括号匹配项>)**
3. **<括号匹配项> ::= <括号匹配项><括号匹配项>** 

Chomsky采用的符号化的描述凡是，运用规则：

1. $S\rightarrow ()$
2. $S\rightarrow (S)$
3. $S\rightarrow SS$

根据产生规则可以生成任意的句子也可以判断一个串是否为句子。

$S$称为非终结符，在推导过程中是可以被替换的符号，$($和$)$称为终结符，在推导过程中不能够再被替换为其他符号。

$\rightarrow$是产生式系统的元符号，不属于终结符，也不属于非终结符。

**例一：由偶数个0组成的串的语言。**

规则的自然语言描述方式：

1. 00是该语言的基本的句子
2. 如果$S$是句子，则$00S$是句子（换为0S0, S00或者SS均可）

**例二：高级程序设计语言中的算术表达式的形成规则**

自然语言的描述方式：

1. 单个变量是最基本的句子
2. 如果E是一个句子，那么EAE就是一个句子，其中A代表的是运算符+，-，*，/
3. 如果E是一个句子，那么$(E)$是一个句子

形式语言的描述方式：

1. $E\rightarrow i$
2. $E\rightarrow EAE$
3. $E\rightarrow (E)$
4. $A\rightarrow +$
5. $A\rightarrow -$
6. $A\rightarrow *$
7. $A\rightarrow /$

将上面的1，2，3合并为：$E\rightarrow i|EAE|(E)$

将上面的4，5，6，7合并为：$A\rightarrow +|-|*|/$

如果希望表现出运算符的优先级的产生式为：

$E\rightarrow E+T|E-T|T$

$T\rightarrow T*F|T/F|F$

$F\rightarrow (E)|i$

其中$E$代表表达式，$T$代表项，$F$代表因子，$(E)$代表的是带小括号的表达式，表示先因子，再*, /, 最后+, -

如果需要将%（取模运算）以及^（指数运算）添加进来：

E -> E+T|E-T|T

T->T*A|T/A|T%A|A

A->F^A|F

F->(E)|i

（注意^运算的结合性是右结合的）

标识符的语言。

标识符：以字母开头的字母和/或数字的串（这里仅考虑小写字母）

标识符的形成规则：单个字母就是基本的标识符，在标识符后面增加1个字母或者数字可以得到新的标识符。
$$
\begin{split}
&I\to L\\
&I\to IL\\
&I\to ID\\
&L\to a|b|c|d|e|f|g|h|i|j|k|l|m|n|o|p|q|r|s|t|u|v|w|x|y|z\\
&D\to 1|2|3|4|5|6|7|8|9|0\\
\end{split}
$$
按照标识符的定义来看，可以写为：
$$
\begin{split}
&I\to L\\
&I\to LS\\
&S\to SS|L|D\\
&L\to a|b|c|d|e|f|g|h|i|j|k|l|m|n|o|p|q|r|s|t|u|v|w|x|y|z\\
&D\to 1|2|3|4|5|6|7|8|9|0\\
\end{split}
$$
一个语言可以通过不同的产生式的组合来产生。

---

#### 文法与语言的关系

语言：字母表上通过一定规则产生的字符串的集合；语言中的字符串称为句子。

对于一类语言可以在字母表上按照句子的结构特点和构成规则定义产生该语言的**文法**。

使用文法作为相应语言的有穷描述，不仅描述结构特征还能够产生这个语言的所有句子。

##### 文法

短语结构文法PSG的定义：文法$G$由一个四元组构成：$G=(\Sigma,V,S,P)$.

$\Sigma$表示有限字符的集合，称为字母表，元素称为字母或者终结符。

$V$是一个有限字符的集合，称为非终结符集合，其元素称为变量或者非终结符。（一般使用大写字母表示）

$S$是一个特殊的非终结符，即$S\in V$. 称为文法的开始符号。

$P$是有序偶对$(\alpha,\beta)$的集合，其中$\alpha$是集合$(\Sigma\cup V)$上的字符串（但是$\alpha$至少包含一个非终结符）；$\beta$是集合$(\Sigma\cup V)^\ast$的元素（可以是$\epsilon$）。

一般来说将有序偶对$(\alpha,\beta)$记为$\alpha\to \beta$称为产生式。

**推导（派生）的定义：**

对于文法$G$来说, $\alpha$和$\beta$是集合$(\Sigma\cup V)$上的串，$\alpha=pvr,\beta=pur$（$p,r$可能同时为$\epsilon$）而$v\rightarrow u$是文法$G$的产生式，则称$\alpha$直接推导（一步推导）出$\beta$. 记为$\alpha \Rightarrow \beta$, 即$pvr\Rightarrow pur$.

推导的实质：替换。产生式的右边替换产生式的左边。

推导的逆过程称为归约。

$y \Rightarrow^+ z$表示$y$可以经过多步推导出$z$，即存在串的序列$\alpha_1,\alpha_2,\cdots,\alpha_n$; 令$y=\alpha_1,z=\alpha_n$且$\alpha_i\Rightarrow \alpha_{i+1}$.（这个对于所有的$n>i\geq 1$）

$y\Rightarrow^{\ast}z$表示$y$可以经过任意步推导出$z$，即$y=z$或者$y\Rightarrow^+z$

$S\Rightarrow ^\ast S$对于所有的文法一定成立，但是$S\Rightarrow^+ S$对于所有的文法不一定成立。

**语言的定义：**给定文法$G$，有开始符号$S$，将$S$可以推导出所有句子的集合称为由文法产生的语言，记为$L(G)$.
$$
L(G)=\{ \omega |S \Rightarrow^\ast \omega,\text{and }\omega\in \Sigma^\ast\}
$$
文法$G$产生语言$L$，必须满足：(1) G推导产生的所有句子都在$L$中；(2) L的任意句子可以由$G$推导产生。

##### 文法和语言的三类问题

（1）已知文法得到该文法产生的语言

（2）已知语言构造产生该语言的某个文法

（3）判断一个文法是否由某个语言产生

**一个语言可以由多个不同的文法产生；一个文法只能产生一个语言。**

文法$G_1$和文法$G_2$之间等价和相同的区别？

如果两个文法导出了相同的语言则认为这两个文法之间是等价的。

如何证明：证明产生的语言互为子集：$L(G_1)\subseteq L(G_2)$以及$L(G_2)\subseteq L(G_1)$. 

#### Chomsky对于文法，语言的分类

语言的分类是根据产生该语言文法的类别进行分类的。

0型文法：对于一般的短语结构文法(PSG) $G(\Sigma,V,S,P)$，G称为0型文法。对应的$L(G)$称为0型语言。

1型文法：如果对于任意$\alpha\rightarrow \beta\in P$. 均有$|\alpha|\leq |\beta|$成立，则称G是1型文法。（上下文相关文法CSG）

​	标准形式：$yAz\rightarrow y\omega z$. 其中$A\in V,y,z\in (\Sigma\cup V)^\ast, \omega\in (\Sigma\cup V)^+$.

2型文法：如果对于任意$\alpha\to \beta\in P$, 均有$|\alpha|\leq |\beta|,\alpha\in V$（$\alpha$是非终结符）. 称G为2型文法：上下文无关文法(CFG). 

3型文法：如果对于任意$\alpha\to \beta \in P$, 具有形式$A\to \omega$或者$A\to \omega B$. 其中$A,B\in V,w\in \Sigma^+$. 则称G是3型文法，或者右线性文法RLG，也可以称为正则文法RG.

<font color=red>如果文法G中有$\alpha\to \epsilon$产生式，则G一定是0型文法。</font>

文法分类判断方法：文法$G=(\Sigma,V,S,P)$则（1）G是短语结构文法；（2）若文法G所有产生式的左边长度小于等于右边的长度，那么G是上下文相关文法。（3）如果上下文相关G的所有产生式左边都是一个非终结符，那么G是上下文无关文法。（4）如果上下文无关文法G所有产生式右边最多只有一个非终结符且该非终结符只能出现在最右边，那么G是右线性文法。

判断文法G： $S\to 01|101S$. 这个文法G是RG, CFG, CSG, PSG.

