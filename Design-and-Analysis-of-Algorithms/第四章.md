### poly-time reductions

---

#### Algorithm design patterns and anti-patterns

算法设计模式：贪心，分治，动态规划等等，其中还包含刚刚使用到的对偶理论，**规约**等等。

算法设计反模式：NP-completeness，NPC问题等等。

常见的存在多项式时间算法以及不存在多项式时间的算法：

<img src="pics/3-9.png" alt="多项式时间算法与无多项式时间算法对比" style="zoom:60%;" />

将所有的问题根据能否通过多项式时间来解决分为两类。

假设现在我们可以在多项式时间内解决问题$Y$. 那么其他的我们还能去解决什么问题呢？

**规约（Reduction）**：如果说问题$X$的任意一个实例都可以通过下面的方式解决：

- 多项式数量的标准计算步骤
- 多项式次数地调用解决问题$Y$的oracle（这里表示的是一步操作或者说在$O(1)$的时间复杂度下获得一个问题$Y$实例的解）. 

那么我们就认为问题$X$是可以在多项式时间之内规约到问题$Y$的。

符号表示为：$X\leq_{P}Y$.

这里注意因为我们在写出所有需要的问题$Y$的实例的时候是需要花费时间的，因此必须保证的是关于问题$Y$的实例的数量一定是多项式级别的。

**如果$X\leq_{P}Y$，那么如果问题$X$不能够在多项式时间内解决，那么问题$Y$也一定不能使用多项式时间解决。**

**如果$X\leq_P Y$，且问题$Y$可以在多项式时间内解决，那么问题$X$也一定可以在多项式时间内解决。**

如果$X\leq_P Y$同时$Y\leq_P X$，那么我们表示为$X\equiv_P Y$. 在这种情况下，当且仅当问题$Y$可以在多项式时间内解决，问题$X$可以在多项式时间内解决。

##### 独立集合问题

给定一个图$G=(V,E)$和一个整数$k$，是否存在一个大小为$k$个顶点的子集使得任意两个顶点都没有边相互连接。

<img src="pics/3-10.png" alt="独立集问题" style="zoom:60%;" />

以上图为例，我们能够发现最大的独立集大小为$6$. 不存在大小为$7$的独立集。（黑点）

##### 点覆盖问题

给定一个图$G=(V,E)$和一个整数$k$，问是否存在一个元素为$k$的最小子集使得图中所有的边都在这个子集中，也就是说所有的边都有一个及以上的顶点在这个子集中。

<img src="pics/3-11.png" alt="点覆盖问题" style="zoom:67%;" />

在上述这个图中最小的点覆盖子集的大小为$4$，不存在大小为3的点覆盖子集。（白点） 

##### 关于点覆盖问题和独立集问题

**Theorem.** INDEPENDENT-SET$\equiv_P$VERTEX-COVER 

*Proof.* 证明的思路是我们能够找到一个大小为$k$的独立集$S$当且仅当$V-S$是一个大小为$n-k$的点覆盖问题。

$\Rightarrow$

- 令$S$表示一个尺寸为$k$的独立集.
- 那么集合$V-S$的元素个数为$n-k$.
- 考虑任意的一条边$(u,v)\in E$.
- 由于$S$是一个独立集，那么：
  - 要么$u\notin S$，要么$v\notin S$，要么都不在这个独立集中
  - 要么$u\in V-S$，要么$v\in V-S$，要么都在$V-S$中

- 因此$V-S$包含了边$(u,v)$.

反过来证明思路是类似的。

##### 集合覆盖问题

给定一个集合$U$，定义$S$表示一个集族，表示的是一个$U$的子集的集合，同时给定一个整数$k$，问是否存在小于等于$k$的子集数量的集合使得他们的并集为$U$？

给出一个实例：

<img src="pics/3-12.png" alt="集合覆盖问题" style="zoom:67%;" />

##### 由点覆盖问题归约到集合覆盖问题

**Theorem.**  VERTEX-COVER$\leq_P$ SET-COVER

*Proof.* 给定一个点覆盖实例$G=(V,E)$和整数$k$，我们构建一个集合覆盖的实例$(U,S,k)$，结论是当且仅当图$G$中有一个大小为$k$的点覆盖的情况下会存在大小为$k$集合覆盖。

构建对应关系：

- $U=E$
- 对于每一个节点$v\in V$，表示一个子集：$S_v=\{e\in E,e\text{ incident to }v\}$.

<img src="pics/3-13.png" alt="点覆盖问题对应集合覆盖问题" style="zoom:67%;" />

**Lemma.** $G=(V,E)$包含一个大小为$k$的点覆盖当且仅当$(U,S,k)$包含一个大小为$k$的集合覆盖。

*Proof.* 定义$X\subseteq V$表示在图$G$上的一个大小为$k$的点覆盖。那么$Y=\{S_v:v\in X\}$是一个大小为$k$的集合覆盖。（显然通过映射关系是成立的，这一部分证明了在顶点覆盖问题上的正确实例是满足条件的）反过来，令$Y\subseteq S$是在$(U,S,k)$上的大小为$k$的集合覆盖，那么$X=\{v；S_v\in Y\}$是在图$G$上的一个大小为$k$的顶点覆盖。

- 问题$X$归约到问题$Y$.
- $G$是问题$X$中任意的一个特例
- $H$是问题$Y$中任意的一个特例
- 问题$G$的求解转换为问题$Y$的求解





---

##### 课堂留下的小练习：

**Problem:** 如果可以多项式时间内判断一个平面图是否可以3着色，请设计多项式时间算法给出一个平面图的3着色方案。

**Solution：**定义1：判断一个平面图是否可以3着色问题为问题X. 定义2：给出一个平面图的3着色方案的问题为问题Y. 那么目标变为将问题Y归约到问题X，如果能够得到：$Y\leq_P X$，由于问题X可以在多项式时间内解决，那么问题Y也可以在多项式时间内求解，即得到了题中目标多项式时间算法给出平面图的3着色问题。
因此下面证明：$Y\leq_P X$ .

首先调用一次问题$Y$判断问题$X$中的平面图是否可以3着色。

- 如果不能够3着色算法直接返回着色方案为None.
- 如果